<!DOCTYPE html>
<html>
<head>
    <title>Basic Cognito Login Test</title>
    <!-- Load Amplify first -->
    <script src="https://unpkg.com/aws-amplify@5.3.10/dist/aws-amplify.min.js"></script>
</head>
<body>
    <div>
        <h2>Login Test</h2>
        <input id="username" type="text" placeholder="Username">
        <input id="password" type="password" placeholder="Password">
        <button onclick="signIn()">Sign In</button>
        <p id="message"></p>
    </div>

    <script>
        // Configure Amplify - REPLACE WITH YOUR ACTUAL VALUES
        Amplify.configure({
            Auth: {
                region: 'ap-southeast-2', // Your AWS region
                userPoolId: 'ap-southeast-2_yJYKaxRIy', // Your User Pool ID
                userPoolWebClientId: '5e6bndcs0tvos87fndb63urr92' // Your App Client ID
            }
        });

        // Get Auth reference properly
        const { Auth } = Amplify;

        async function signIn() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const messageEl = document.getElementById('message');
            
            messageEl.textContent = "Signing in...";
            messageEl.style.color = "black";

            try {
                const user = await Auth.signIn(username, password);
                messageEl.textContent = `Success! Welcome ${user.username}`;
                messageEl.style.color = "green";
                
                // Here you can redirect or show authenticated content
                console.log("Authenticated user:", user);
                
            } catch (error) {
                messageEl.textContent = `Error: ${error.message}`;
                messageEl.style.color = "red";
                console.error("Login error:", error);
            }
        }
    </script>
</body>
</html>
