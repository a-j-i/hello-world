async function uploadFile(file) {
  try {
    // 1. Get pre-signed URL
    const response = await fetch(
      'https://8n4qwlw0qf.execute-api.ap-southeast-2.amazonaws.com/dev',
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          fileName: file.name,
          fileType: file.type
        })
      }
    );

    if (!response.ok) throw new Error('Failed to get URL');
    
    const { uploadURL } = await response.json();

    // 2. Upload to S3
    const uploadResponse = await fetch(uploadURL, {
      method: 'PUT',
      headers: { 'Content-Type': file.type },
      body: file
    });

    if (uploadResponse.ok) {
      alert('Upload successful!');
    } else {
      console.error('S3 Upload failed:', await uploadResponse.text());
    }
  } catch (error) {
    console.error('Error:', error);
  }
}
